<mat-toolbar>
    <span>Продажи</span>
</mat-toolbar>
<section class="mat-typography">

    <div (click)="picker.open()" matRipple class="date text-primary">
        <input (dateChange)="onDateChange($event)" [matDatepicker]="picker" placeholder="Choose a date">
        <mat-datepicker #picker></mat-datepicker>
        <h1> {{date$ | async | date:"EE, d MMM yyyy"}}</h1>
    </div>
    <p class="date-description">Сегодня</p>

    <mat-action-list disableRipple="true" color="primary">
        <mat-list-item (click)="onSelect(s)" *ngFor=" let s of (sales$ | async); let i=index">
            <div class="sale text-primary">
                <div class="sale__item">
                    {{i + 1}}
                </div>
                <div class="sale__item">
                    {{getNumProducts(s)}} поз.
                </div>
                <div class="sale__item">
                    {{getTotalPrice(s) | currency:'RUB':'symbol-narrow'}}
                </div>
            </div>

            <!-- <app-sale-item class="sale-item" [sale]='s'></app-sale-item> -->

            <button disableRipple="true" (click)="$event.stopPropagation()" class="more-vert" mat-icon-button
                [matMenuTriggerFor]="menu">
                <mat-icon>more_vert</mat-icon>
            </button>
            <mat-menu [xPosition]="'before'" #menu="matMenu">
                <button (click)="onDelete(s)" mat-menu-item> Удалить </button>
            </mat-menu>

        </mat-list-item>
    </mat-action-list>

    <div *ngIf="!(sales$ | async)?.length" class="emty-sale">
        <h1> Сегодня небыло продаж</h1>
    </div>

</section>